<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Auto
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div *ngIf="!isLoading">

    <h1 class="heading">Info</h1>
        <ion-row>
          <ion-col>
            <ion-card class="info-card">
              <ion-card-content>
                <ion-row class="justify">
                 <strong>{{ cameraModeDisplay }}</strong>
                </ion-row>
                <ion-row class="justify smallFont">
                  Camera View
                </ion-row>
              </ion-card-content>
            </ion-card>
          </ion-col>
          <ion-col>
            <ion-card class="info-card">
              <ion-card-content>
            <ion-row class="justify">
              <strong> {{ timeIntervalInMin }}m {{ timeIntervalInSecs }}s</strong>
            </ion-row>
            <ion-row class="justify smallFont">
              Time Interval
            </ion-row>
          </ion-card-content>
        </ion-card>
          </ion-col>


          <ion-col size="12">
            <p class="selectable">{{token}}</p>
           </ion-col>

        </ion-row>


        <ion-card *ngIf="IMAGE_PATH">
          <ion-card-header>
            <ion-card-title>Captured Image</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-row class="ion-text-center">
              <ion-col>
                <img [src]="IMAGE_PATH">
              </ion-col>
              </ion-row>
          </ion-card-content>
        </ion-card>


    <ion-card>
      <ion-card-header>
        <ion-card-title>Camera Info</ion-card-title>
      </ion-card-header>
      <ion-card-content>
      <ion-row>
        <ion-col size="3">
          <ion-button id="start_camera" (click)="startCameraAbove()" class="cameraButtons">
          <ion-icon name="camera" class="cameraIcon"></ion-icon>
          </ion-button>
          <p class="ion-text-center smallFont">Start</p>
        </ion-col>
        <ion-col size="3">
          <ion-button id="take_picture" (click)="takePicture()" class="cameraButtons">
          <ion-icon name="image" class="cameraIcon"></ion-icon>
          </ion-button>
          <p class="ion-text-center smallFont">Capture</p>
        </ion-col>
        <ion-col size="3">
          <ion-button id="stop_camera" (click)="stopCamera()" class="cameraButtons">
            <ion-icon name="square" class="cameraIcon"></ion-icon>
          </ion-button>
          <p class="ion-text-center smallFont">Stop</p>
        </ion-col>
        <ion-col size="3">
          <ion-button (click)="switchCamera()" class="cameraButtons">
          <ion-icon name="camera-reverse" class="cameraIcon"></ion-icon>
          </ion-button>
          <p class="ion-text-center smallFont">Switch</p>
        </ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Update Time Interval</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-row class="circle_col">
        <ion-col size="4">
          <ion-item lines="full">
            <ion-label position="floating">Min</ion-label>
            <ion-input type="number" value="{{timeIntervalInMin}}"  (ionChange)="setTimeIntervalInMin($event)"></ion-input>
            </ion-item>
        </ion-col>
        <ion-col size="4">
          <ion-item lines="full">
            <ion-label position="floating">Sec</ion-label>
            <ion-input type="number" value="{{timeIntervalInSecs}}"  (ionChange)="setTimeIntervalInSecs($event)"></ion-input>
            </ion-item>
        </ion-col>
      <ion-col size="4">
        <ion-button (click)="updateTimeInterval()">Update</ion-button>
      </ion-col>
    </ion-row>
    </ion-card-content>
  </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title>Battery Info</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-row class="ion-text-center">
          <ion-col>
            <circle-progress
              [percent]="batteryStatusLevel"
              [radius]="60"
              [showSubtitle]="true"
              [subtitle]="['Battery', 'Status']"
              [showInnerStroke]="true"
              [animation]="true"
              [animationDuration]="300"
              [showZeroOuterStroke]="false"
              [backgroundPadding]="5"
              [outerStrokeWidth]="10"
              [space]="-10"
              [innerStrokeWidth]="10"
              [backgroundStrokeWidth]="0"
              [outerStrokeLinecap]="'round'"
              [toFixed]="0"
              ></circle-progress>
          </ion-col>

          <ion-col class="ion-text-center circle_col">
            <div class="circle" *ngIf="isPlugged">
              <p>
                Charging <br>
                <ion-icon name="battery-charging-outline"></ion-icon>
              </p>
            </div>

            <div class="circle" *ngIf="!isPlugged">
            <p>
              Not Charging <br>
            <ion-icon name="battery-dead-outline"></ion-icon>
            </p>
          </div>

          </ion-col>
        </ion-row>
      </ion-card-content>
    </ion-card>

    <!-- <ion-card *ngIf="isImgUploading && !isImgUploaded">
      <ion-card-header>
        <ion-card-title>Files selected: <b>{{ FileName }}</b></ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <div *ngIf="progressNum | async as percentage">
          Progress: {{ percentage | number }}%
          <ion-progress-bar value="{{ percentage / 100 }}"></ion-progress-bar>
        </div>
        <div *ngIf="progressSnapshot | async as pSnapshot">
          Image size: {{ pSnapshot.totalBytes | fileSize }} Transfered:
          {{ pSnapshot.bytesTransferred | fileSize }}
          <div *ngIf="progressSnapshot && pSnapshot.bytesTransferred !== pSnapshot.totalBytes">
            <ion-button color="danger" fill="outline" size="small" (click)="ngFireUploadTask.cancel()">Cancel</ion-button>
            <ion-button color="secondary" fill="outline" size="small" (click)="ngFireUploadTask.pause()">Pause
            </ion-button>
            <ion-button color="dark" fill="outline" size="small" (click)="ngFireUploadTask.resume()" class="button">Resume
            </ion-button>
          </div>
        </div>
      </ion-card-content>
    </ion-card> -->

    <!-- <ion-card *ngIf="!isImgUploading && isImgUploaded">
      <ion-card-header>
        <ion-card-title>
          <b>{{ FileName }}</b> Uploaded
        </ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <div *ngIf="fileUploadedPath | async as fileUrl">
          <img [src]="fileUrl" />
          <a [href]="fileUrl" rel="nofollow" target="_blank">Download</a>
        </div>
        File Size: {{ FileSize | fileSize }}
      </ion-card-content>
    </ion-card> -->

    <!-- <ion-card>
      <ion-card-header>
        <ion-card-title>
          Uploaded Files Collection
        </ion-card-title>
      </ion-card-header>
      <ion-card *ngFor="let img of files | async">
        <ion-card-header>
          <ion-card-title>
            {{ img.name }}
          </ion-card-title>
        </ion-card-header>

        <ion-card-content>
          <img [src]="img.filepath" />
          <a [href]="img.filepath" rel="nofollow" target="_blank">Download</a>
        </ion-card-content>
      </ion-card>
    </ion-card> -->

  </div>

</ion-content>
